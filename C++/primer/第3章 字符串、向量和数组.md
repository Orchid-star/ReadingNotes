# 第3章 字符串、向量和数组

## 3.1 命名空间using声明

**作用域操作符(::)**：编译器应从操作符左侧名字所示的作用域中寻找右侧的名字。std::cin表示要使用命名空间std中的名字cin。

**using声明**：每个名字都必须有自己的声明语句，头文件不应包含using声明。



## 3.2 标准库类型string

**string**：可变长的字符序列



### 3.2.1 定义和初始化string对象

```c++
sting s1(n, 'c'); //长度为n，每个字符都是'c'
```



###  3.2.2 string对象上的操作

```c++
os << s;
is >> s;
getline(is, s); //从is中读取一行赋给s,返回is
```

**使用getline读取一整行**：

getline从流中读入内容，直到换行符（换行符也被读入），然后存入string中（注意不存换行符）。



**string::size_type类型**

大多数标准库类型都定义了几种配套类型，体现标准库类型与机器无关的特性，size_type是其中一种。

string::size_type为无符号整型，可使用auto关键字。

切记不要混用有符号和无符号数进行运算。



**字符串字面值与string是不同的类型**

因为历史原因以及和C兼容，C++语言中的字符串字面值并不是标准库类型string的对象，切记。



### 3.2.3 处理string对象中的字符

```c++
//cctype头文件
isalpha(c); //判断字母
isdigit(c); //判断数字
isalnum(c); //字母或数字
tolower(c); //转小写
toupper(c); //转大写
```

**建议**：使用C++版本的C标准头文件

C++标准库除了定义C++语言特有的功能外，也兼容了C语言的标准库。C语言头文件name.h，C++则将文件命名为cname，去掉了.h后缀，name前加上了c，表示这是一个属于C语言标准库的头文件。cctype头文件和ctype.h头文件内容是一样的，区别上cname的头文件定义的名字属于命名空间std，而定义名为.h的头文件则不然。



**基于范围的for语句**

```c++
for (declaration : expression)
    statement
```



## 3.3 标准库类型vector

编译器根据模板创建类或函数的过程叫**实例化**。

引用不是对象，不存在包含引用的vector。



### 3.3 1 定义和初始化vector对象

```c++
vector<T> v1(n, 0);
vector<T> v1(n);
vector<T> v1{1,2,3}; //列表初始化


//例子
vector<int> v1(10); //10个0
vector<string> v2(10); //10个空串  由类型T的默认构造函数决定
```

`vector<T> v(10)` 元素数量，`vector<T> v{10}`列表初始值



### 3.3.2 向vector中添加元素

```c++
string word;
vector<string> text;
while(cin >> word){
    text.push_back(word);
}
```

vector在运行时能高效快速地添加元素。

循环语句改变vector容量时要确保正确无误。

范围for语句体内不应该改变其所遍历地序列的大小。



### 3.3.3 其他vector操作

只能对明确已存在的元素执行下标操作。